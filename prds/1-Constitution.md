# Theia-Based FDC3 Workspace Platform

## Constitution

- **Open-Source Foundation:** Build on the Eclipse Theia IDE platform to leverage its modular, extensible architecture and VS Code compatibility. While we are working in a fork of the Theia IDE project, we will respect Theia’s design principles and avoid modifying core unless necessary, preferring to add or remove features via plugins, extensions, and contribution filters: [theia-ide.org](https://theia-ide.org/docs/blueprint_documentation/#:~:text=about%20Theia%20extension%20capabilities%20,VS%20Code%20extensions%20at%20runtime). This ensures we maintain upgradability and benefit from the community’s ongoing improvements.
- **Context-Driven Design:** Orient the platform around **business context** (e.g. client or project) rather than files. Unlike a traditional IDE, our product will not be document-centric. All design decisions should prioritize user workflow context (such as a selected client or case) as the primary organizing principle, ensuring that apps synchronize their content based on shared context rather than open files.
- **FDC3 Interoperability:** Adhere to FINOS FDC3 standards for cross-application communication. Our platform will include a **Desktop Agent** implementation of the FDC3 API, acting as the orchestrator for launching apps and routing messages: [fdc3.finos.org](https://fdc3.finos.org/docs/api/ref/DesktopAgent#:~:text=An%20FDC3%20Desktop%20Agent%20is,for%20applications%20in%20its%20domain). This commitment to open standards ensures any FDC3-compliant app can interoperate within the workspace. We will prioritize security and encapsulation in message passing (only apps within the authorized workspace context receive broadcasts or intents).
- **Modularity and Extensibility:** Design the platform as a composition of **Theia plugins and extensions**. Each major feature (workspace management, context sharing, notifications, etc.) will be implemented as a separate extension or plugin. This modular approach aligns with Theia’s architecture and allows selective enabling/disabling of features for different deployments. It also encourages third-party developers to contribute or create new “apps” (extensions) easily.
- **User Experience and Productivity:** Emphasize a clean, intuitive UI that feels like a modern workspace browser rather than an IDE. Default IDE features that are document specific (file explorer, text editor, etc.) will be hidden or removed if not relevant, reducing clutter. This should be straightforward using Theia's modular approach. The UI will introduce elements like top-level workspace tabs, an app launcher or dock, and context selectors to make multi-app workflows seamless. We prioritize short learning curve and consistency with paradigms users know from OpenFin/HERE containers.
- **Consistency and Compatibility:** Maintain compatibility with VS Code extension APIs as much as possible, so that existing VSIX-packaged apps can run with minimal changes. The platform will use the Open VSX registry for extension discovery: [theia-ide.org](https://theia-ide.org/docs/blueprint_documentation/#:~:text=Extension%20sources). We aim to support installing and running VS Code extensions at runtime to extend functionality, but within the constraints of our context-focused environment. (Any deviations or unsupported VS Code API areas will be documented clearly.)
- **Quality, Security, and Maintainability:** All development will follow best practices for code quality (code reviews, testing) and ensure the platform remains secure (untrusted app content will be sandboxed via Theia’s webview isolation, and inter-app communication will be controlled). As an enterprise-focused platform, we will keep in mind future requirements like single sign-on, role-based access, and data privacy – even if not implemented initially, the architecture should not preclude adding these later. We acknowledge that features like multi-window support, external desktop agent bridging, and enterprise security controls are valuable, but will introduce them in later phases once the core is stable.
- **Cross-Platform & Hybrid Deployment**: Ensure the solution runs equally well as a desktop application (via Electron) and as a web application (browser + remote server)[theia-ide.org](https://theia-ide.org/docs/architecture/#:~:text=Theia%20is%20designed%20to%20work,run%20on%20a%20remote%20host). Theia’s dual-process architecture (frontend UI and backend node server) will be utilized to support local and cloud use cases from one codebase. The platform should function on all major OSes and support both online (connected to remote app directories or services) and offline modes (using local resources) as needed.

By establishing these principles, we ensure that all subsequent development – from feature design to implementation – aligns with the project’s vision of an open, user-friendly, and standard-compliant FDC3 platform.
